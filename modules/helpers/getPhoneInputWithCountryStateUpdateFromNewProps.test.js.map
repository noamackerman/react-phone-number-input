{"version":3,"sources":["../../source/helpers/getPhoneInputWithCountryStateUpdateFromNewProps.test.js"],"names":["metadata","_getPhoneInputWithCountryStateUpdateFromNewProps","getPhoneInputWithCountryStateUpdateFromNewProps","newProps","prevProps","state","describe","it","reset","defaultCountry","should","deep","equal","phoneDigits","undefined","value","country","hasUserSelectedACountry","international","expect","to","be"],"mappings":"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","sourcesContent":["import metadata from 'libphonenumber-js/metadata.min.json'\n\nimport _getPhoneInputWithCountryStateUpdateFromNewProps from './getPhoneInputWithCountryStateUpdateFromNewProps'\n\nfunction getPhoneInputWithCountryStateUpdateFromNewProps(newProps, prevProps, state) {\n\treturn _getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t{\n\t\t\t...newProps,\n\t\t\tmetadata\n\t\t},\n\t\t{\n\t\t\t...prevProps,\n\t\t\tmetadata\n\t\t},\n\t\tstate\n\t)\n}\n\ndescribe('getPhoneInputWithCountryStateUpdateFromNewProps', () => {\n\tit('should get state update from new props (reset)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\treset: true,\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tphoneDigits: undefined,\n\t\t\tvalue: undefined,\n\t\t\tcountry: 'RU',\n\t\t\thasUserSelectedACountry: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (reset) (international)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\treset: true,\n\t\t\t\tinternational: true,\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tphoneDigits: '+7',\n\t\t\tvalue: undefined,\n\t\t\tcountry: 'RU',\n\t\t\thasUserSelectedACountry: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (default country did not change)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{}\n\t\t)).to.be.undefined\n\t})\n\n\tit('should get state update from new props (default country changed) (no `value`)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefaultCountry: 'US'\n\t\t\t},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'RU',\n\t\t\tphoneDigits: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (default country changed) (no `value`) (new country not supported)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tdefaultCountry: 'XX'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefaultCountry: 'US'\n\t\t\t},\n\t\t\t{}\n\t\t)).to.be.undefined\n\t})\n\n\tit('should get state update from new props (default country changed) (`value` is intl prefix)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tinternational: true,\n\t\t\t\tdefaultCountry: 'CA'\n\t\t\t},\n\t\t\t{\n\t\t\t\tinternational: true,\n\t\t\t\tdefaultCountry: 'US'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+1'\n\t\t\t}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'CA',\n\t\t\tphoneDigits: '+1'\n\t\t})\n\t})\n\n\tit('should get state update from new props (default country changed) (has `value`)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: '+78005553535',\n\t\t\t\tdefaultCountry: 'FR'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535',\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{}\n\t\t)).to.be.undefined\n\t})\n\n\tit('should get state update from new props (`value` changed: undefined -> value)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: '+78005553535',\n\t\t\t\tdefaultCountry: 'FR'\n\t\t\t},\n\t\t\t{\n\t\t\t\tdefaultCountry: 'US'\n\t\t\t},\n\t\t\t{}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'RU',\n\t\t\tphoneDigits: '+78005553535',\n\t\t\tvalue: '+78005553535'\n\t\t})\n\t})\n\n\tit('should get state update from new props (`value` changed: value -> undefined)', () => {\n\t\tgetPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535',\n\t\t\t\tdefaultCountry: 'RU'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t}\n\t\t).should.deep.equal({\n\t\t\tcountry: 'RU',\n\t\t\tphoneDigits: undefined,\n\t\t\tvalue: undefined,\n\t\t\thasUserSelectedACountry: undefined\n\t\t})\n\t})\n\n\tit('should get state update from new props (`value` changed, but already displayed)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t}\n\t\t)).to.be.undefined\n\t})\n\n\tit('should get state update from new props (`value` did not change)', () => {\n\t\texpect(getPhoneInputWithCountryStateUpdateFromNewProps(\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: '+78005553535'\n\t\t\t},\n\t\t\t{}\n\t\t)).to.be.undefined\n\t})\n})"],"file":"getPhoneInputWithCountryStateUpdateFromNewProps.test.js"}