{"version":3,"sources":["../../source/helpers/phoneInputHelpers.js"],"names":["parsePhoneNumberFromString","getCountryCallingCode","AsYouType","Metadata","getInternationalPhoneNumberPrefix","getPreSelectedCountry","phoneNumber","defaultCountry","countries","required","metadata","country","indexOf","undefined","length","getCountrySelectOptions","countryNames","addInternationalOption","compareStringsLocales","_compareStrings","compareStrings","countrySelectOptions","map","value","label","sort","a","b","unshift","ZZ","parsePhoneNumber","generateNationalNumberDigits","formatNational","replace","getPhoneDigitsForNewCountry","phoneDigits","prevCountry","newCountry","useNationalFormat","stripCountryCallingCode","newCountryPrefix","defaultValue","e164","number","partial_national_significant_number","getNationalSignificantNumberDigits","trimNumber","nationalSignificantNumberPart","overflowDigitsCount","getMaxNumberLength","slice","numberingPlan","possibleLengths","getCountryForPartialE164Number","partialE164Number","derived_country","getCountryFromPossiblyIncompleteInternationalPhoneNumber","couldNumberBelongToCountry","onPhoneDigitsChange","prevPhoneDigits","international","limitMaxLength","countryCallingCodeEditable","prefix","convertInternationalPhoneDigitsToNational","input","formatter","getNumber","locales","String","prototype","localeCompare","countryCallingCodePrefix","Object","keys","country_calling_codes","country_calling_code","nationalNumber","intlPhoneNumberPrefix","i","getInitialPhoneDigits"],"mappings":"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","sourcesContent":["import {\n\tparsePhoneNumberFromString,\n\tgetCountryCallingCode,\n\tAsYouType,\n\tMetadata\n} from 'libphonenumber-js/core'\n\nimport getInternationalPhoneNumberPrefix from './getInternationalPhoneNumberPrefix'\n\n/**\n * Decides which country should be pre-selected\n * when the phone number input component is first mounted.\n * @param  {object?} phoneNumber - An instance of `PhoneNumber` class.\n * @param  {string?} country - Pre-defined country (two-letter code).\n * @param  {string[]?} countries - A list of countries available.\n * @param  {object} metadata - `libphonenumber-js` metadata\n * @return {string?}\n */\nexport function getPreSelectedCountry({\n\tphoneNumber,\n\tdefaultCountry,\n\tcountries,\n\trequired,\n\tmetadata\n}) {\n\tlet country = defaultCountry\n\n\t// If can get country from E.164 phone number\n\t// then it overrides the `country` passed (or not passed).\n\tif (phoneNumber && phoneNumber.country) {\n\t\t// `country` will be left `undefined` in case of non-detection.\n\t\tcountry = phoneNumber.country\n\t}\n\n\t// Only pre-select a country if it's in the available `countries` list.\n\tif (countries && countries.indexOf(country) < 0) {\n\t\tcountry = undefined\n\t}\n\n\t// If there will be no \"International\" option\n\t// then some `country` must be selected.\n\t// It will still be the wrong country though.\n\t// But still country `<select/>` can't be left in a broken state.\n\tif (!country && required && countries && countries.length > 0) {\n\t\tcountry = countries[0]\n\t}\n\n\treturn country\n}\n\n/**\n * Generates a sorted list of country `<select/>` options.\n * @param  {string[]} countries - A list of two-letter (\"ISO 3166-1 alpha-2\") country codes.\n * @param  {object} labels - Custom country labels. E.g. `{ RU: 'Россия', US: 'США', ... }`.\n * @param  {boolean} addInternationalOption - Whether should include \"International\" option at the top of the list.\n * @return {object[]} A list of objects having shape `{ value : string, label : string }`.\n */\nexport function getCountrySelectOptions({\n\tcountries,\n\tcountryNames,\n\taddInternationalOption,\n\t// `locales` are only used in country name comparator:\n\t// depending on locale, string sorting order could be different.\n\tcompareStringsLocales,\n\tcompareStrings: _compareStrings\n}) {\n\t// Default country name comparator uses `String.localeCompare()`.\n\tif (!_compareStrings) {\n\t\t_compareStrings = compareStrings\n\t}\n\n\t// Generates a `<Select/>` option for each country.\n\tconst countrySelectOptions = countries.map((country) => ({\n\t\tvalue: country,\n\t\t// All `locale` country names included in this library\n\t\t// include all countries (this is checked at build time).\n\t\t// The only case when a country name might be missing\n\t\t// is when a developer supplies their own `labels` property.\n\t\t// To guard against such cases, a missing country name\n\t\t// is substituted by country code.\n\t\tlabel: countryNames[country] || country\n\t}))\n\n\t// Sort the list of countries alphabetically.\n\tcountrySelectOptions.sort((a, b) => _compareStrings(a.label, b.label, compareStringsLocales))\n\n\t// Add the \"International\" option to the country list (if suitable)\n\tif (addInternationalOption) {\n\t\tcountrySelectOptions.unshift({\n\t\t\tlabel: countryNames.ZZ\n\t\t})\n\t}\n\n\treturn countrySelectOptions\n}\n\n/**\n * Parses a E.164 phone number to an instance of `PhoneNumber` class.\n * @param {string?} value = E.164 phone number.\n * @param  {object} metadata - `libphonenumber-js` metadata\n * @return {object} Object having shape `{ country: string?, countryCallingCode: string, number: string }`. `PhoneNumber`: https://gitlab.com/catamphetamine/libphonenumber-js#phonenumber.\n * @example\n * parsePhoneNumber('+78005553535')\n */\nexport function parsePhoneNumber(value, metadata) {\n\treturn parsePhoneNumberFromString(value || '', metadata)\n}\n\n/**\n * Generates national number digits for a parsed phone.\n * May prepend national prefix.\n * The phone number must be a complete and valid phone number.\n * @param  {object} phoneNumber - An instance of `PhoneNumber` class.\n * @param  {object} metadata - `libphonenumber-js` metadata\n * @return {string}\n * @example\n * getNationalNumberDigits({ country: 'RU', phone: '8005553535' })\n * // returns '88005553535'\n */\nexport function generateNationalNumberDigits(phoneNumber) {\n\treturn phoneNumber.formatNational().replace(/\\D/g, '')\n}\n\n/**\n * Migrates parsed `<input/>` `value` for the newly selected `country`.\n * @param {string?} phoneDigits - Phone number digits (and `+`) parsed from phone number `<input/>` (it's not the same as the `value` property).\n * @param {string?} prevCountry - Previously selected country.\n * @param {string?} newCountry - Newly selected country. Can't be same as previously selected country.\n * @param {object} metadata - `libphonenumber-js` metadata.\n * @param {boolean} useNationalFormat - whether should attempt to convert from international to national number for the new country.\n * @return {string?}\n */\nexport function getPhoneDigitsForNewCountry(phoneDigits, {\n\tprevCountry,\n\tnewCountry,\n\tmetadata,\n\tuseNationalFormat\n}) {\n\t// If `parsed_input` is empty\n\t// then no need to migrate anything.\n\tif (!phoneDigits) {\n\t\tif (useNationalFormat) {\n\t\t\treturn ''\n\t\t} else {\n\t\t\t// If `phoneDigits` is empty then set `phoneDigits` to\n\t\t\t// `+{getCountryCallingCode(newCountry)}`.\n\t\t\treturn getInternationalPhoneNumberPrefix(newCountry, metadata)\n\t\t}\n\t}\n\n\t// If switching to some country.\n\t// (from \"International\" or another country)\n\t// If switching from \"International\" then `phoneDigits` starts with a `+`.\n\t// Otherwise it may or may not start with a `+`.\n\tif (newCountry) {\n\t\t// If the phone number was entered in international format\n\t\t// then migrate it to the newly selected country.\n\t\t// The phone number may be incomplete.\n\t\t// The phone number entered not necessarily starts with\n\t\t// the previously selected country phone prefix.\n\t\tif (phoneDigits[0] === '+') {\n\t\t\t// If the international phone number is for the new country\n\t\t\t// then convert it to local if required.\n\t\t\tif (useNationalFormat) {\n\t\t\t\t// // If a phone number is being input in international form\n\t\t\t\t// // and the country can already be derived from it,\n\t\t\t\t// // and if it is the new country, then format as a national number.\n\t\t\t\t// const derived_country = getCountryFromPossiblyIncompleteInternationalPhoneNumber(phoneDigits, metadata)\n\t\t\t\t// if (derived_country === newCountry) {\n\t\t\t\t// \treturn stripCountryCallingCode(phoneDigits, derived_country, metadata)\n\t\t\t\t// }\n\n\t\t\t\t// Actually, the two countries don't necessarily need to match:\n\t\t\t\t// the condition could be looser here, because several countries\n\t\t\t\t// might share the same international phone number format\n\t\t\t\t// (for example, \"NANPA\" countries like US, Canada, etc).\n\t\t\t\t// The looser condition would be just \"same nternational phone number format\"\n\t\t\t\t// which would mean \"same country calling code\" in the context of `libphonenumber-js`.\n\t\t\t\tif (phoneDigits.indexOf('+' + getCountryCallingCode(newCountry, metadata)) === 0) {\n\t\t\t\t\treturn stripCountryCallingCode(phoneDigits, newCountry, metadata)\n\t\t\t\t}\n\n\t\t\t\t// Simply discard the previously entered international phone number,\n\t\t\t\t// because otherwise any \"smart\" transformation like getting the\n\t\t\t\t// \"national (significant) number\" part and then prepending the\n\t\t\t\t// newly selected country's \"country calling code\" to it\n\t\t\t\t// would just be confusing for a user without being actually useful.\n\t\t\t\treturn ''\n\n\t\t\t\t// // Simply strip the leading `+` character\n\t\t\t\t// // therefore simply converting all digits into a \"local\" phone number.\n\t\t\t\t// // https://github.com/catamphetamine/react-phone-number-input/issues/287\n\t\t\t\t// return phoneDigits.slice(1)\n\t\t\t}\n\n\t\t\tif (prevCountry) {\n\t\t\t\tconst newCountryPrefix = getInternationalPhoneNumberPrefix(newCountry, metadata)\n\t\t\t\tif (phoneDigits.indexOf(newCountryPrefix) === 0) {\n\t\t\t\t\treturn phoneDigits\n\t\t\t\t} else {\n\t\t\t\t\treturn newCountryPrefix\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst defaultValue = getInternationalPhoneNumberPrefix(newCountry, metadata)\n\t\t\t\t// If `phoneDigits`'s country calling code part is the same\n\t\t\t\t// as for the new `country`, then leave `phoneDigits` as is.\n\t\t\t\tif (phoneDigits.indexOf(defaultValue) === 0) {\n\t\t\t\t\treturn phoneDigits\n\t\t\t\t}\n\t\t\t\t// If `phoneDigits`'s country calling code part is not the same\n\t\t\t\t// as for the new `country`, then set `phoneDigits` to\n\t\t\t\t// `+{getCountryCallingCode(newCountry)}`.\n\t\t\t\treturn defaultValue\n\t\t\t}\n\n\t\t\t// // If the international phone number already contains\n\t\t\t// // any country calling code then trim the country calling code part.\n\t\t\t// // (that could also be the newly selected country phone code prefix as well)\n\t\t\t// // `phoneDigits` doesn't neccessarily belong to `prevCountry`.\n\t\t\t// // (e.g. if a user enters an international number\n\t\t\t// //  not belonging to any of the reduced `countries` list).\n\t\t\t// phoneDigits = stripCountryCallingCode(phoneDigits, prevCountry, metadata)\n\n\t\t\t// // Prepend country calling code prefix\n\t\t\t// // for the newly selected country.\n\t\t\t// return e164(phoneDigits, newCountry, metadata) || `+${getCountryCallingCode(newCountry, metadata)}`\n\t\t}\n\t}\n\t// If switching to \"International\" from a country.\n\telse {\n\t\t// If the phone number was entered in national format.\n\t\tif (phoneDigits[0] !== '+') {\n\t\t\t// Format the national phone number as an international one.\n\t\t\t// The phone number entered not necessarily even starts with\n\t\t\t// the previously selected country phone prefix.\n\t\t\t// Even if the phone number belongs to whole another country\n\t\t\t// it will still be parsed into some national phone number.\n\t\t\treturn e164(phoneDigits, prevCountry, metadata) || ''\n\t\t}\n\t}\n\n\treturn phoneDigits\n}\n\n/**\n * Converts phone number digits to a (possibly incomplete) E.164 phone number.\n * @param  {string?} number - A possibly incomplete phone number digits string. Can be a possibly incomplete E.164 phone number.\n * @param  {string?} country\n * @param  {[object} metadata - `libphonenumber-js` metadata.\n * @return {string?}\n */\nexport function e164(number, country, metadata) {\n\tif (!number) {\n\t\treturn\n\t}\n\t// If the phone number is being input in international format.\n\tif (number[0] === '+') {\n\t\t// If it's just the `+` sign then return nothing.\n\t\tif (number === '+') {\n\t\t\treturn\n\t\t}\n\t\t// If there are any digits then the `value` is returned as is.\n\t\treturn number\n\t}\n\t// For non-international phone numbers\n\t// an accompanying country code is required.\n\tif (!country) {\n\t\treturn\n\t}\n\tconst partial_national_significant_number = getNationalSignificantNumberDigits(number, country, metadata)\n\tif (partial_national_significant_number) {\n\t\treturn `+${getCountryCallingCode(country, metadata)}${partial_national_significant_number}`\n\t}\n}\n\n/**\n * Trims phone number digits if they exceed the maximum possible length\n * for a national (significant) number for the country.\n * @param  {string} number - A possibly incomplete phone number digits string. Can be a possibly incomplete E.164 phone number.\n * @param  {string} country\n * @param  {object} metadata - `libphonenumber-js` metadata.\n * @return {string} Can be empty.\n */\nexport function trimNumber(number, country, metadata) {\n\tconst nationalSignificantNumberPart = getNationalSignificantNumberDigits(number, country, metadata)\n\tif (nationalSignificantNumberPart) {\n\t\tconst overflowDigitsCount = nationalSignificantNumberPart.length - getMaxNumberLength(country, metadata)\n\t\tif (overflowDigitsCount > 0) {\n\t\t\treturn number.slice(0, number.length - overflowDigitsCount)\n\t\t}\n\t}\n\treturn number\n}\n\nfunction getMaxNumberLength(country, metadata) {\n\t// Get \"possible lengths\" for a phone number of the country.\n\tmetadata = new Metadata(metadata)\n\tmetadata.country(country)\n\t// Return the last \"possible length\".\n\treturn metadata.numberingPlan.possibleLengths()[metadata.numberingPlan.possibleLengths().length - 1]\n}\n\n// If the phone number being input is an international one\n// then tries to derive the country from the phone number.\n// (regardless of whether there's any country currently selected)\n/**\n * @param {string} partialE164Number - A possibly incomplete E.164 phone number.\n * @param {string?} country - Currently selected country.\n * @param {string[]?} countries - A list of available countries. If not passed then \"all countries\" are assumed.\n * @param  {object} metadata - `libphonenumber-js` metadata.\n * @return {string?}\n */\nexport function getCountryForPartialE164Number(partialE164Number, {\n\tcountry,\n\tcountries,\n\trequired,\n\tmetadata\n}) {\n\tif (partialE164Number === '+') {\n\t\t// Don't change the currently selected country yet.\n\t\treturn country\n\t}\n\n\tconst derived_country = getCountryFromPossiblyIncompleteInternationalPhoneNumber(partialE164Number, metadata)\n\n\t// If a phone number is being input in international form\n\t// and the country can already be derived from it,\n\t// then select that country.\n\tif (derived_country && (!countries || (countries.indexOf(derived_country) >= 0))) {\n\t\treturn derived_country\n\t}\n\t// If \"International\" country option has not been disabled\n\t// and the international phone number entered doesn't correspond\n\t// to the currently selected country then reset the currently selected country.\n\telse if (country &&\n\t\t!required &&\n\t\t!couldNumberBelongToCountry(partialE164Number, country, metadata)) {\n\t\treturn undefined\n\t}\n\n\t// Don't change the currently selected country.\n\treturn country\n}\n\n/**\n * Parses `<input/>` value. Derives `country` from `input`. Derives an E.164 `value`.\n * @param  {string?} phoneDigits — Parsed `<input/>` value. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\n * @param  {string?} prevPhoneDigits — Previous parsed `<input/>` value. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\n * @param  {string?} country - Currently selected country.\n * @param  {string[]?} countries - A list of available countries. If not passed then \"all countries\" are assumed.\n * @param  {boolean} international - Set to `true` to force international phone number format (leading `+`). Set to `false` to force \"national\" phone number format. Is `undefined` by default.\n * @param  {boolean} limitMaxLength — Whether to enable limiting phone number max length.\n * @param  {object} metadata - `libphonenumber-js` metadata.\n * @return {object} An object of shape `{ input, country, value }`.\n */\nexport function onPhoneDigitsChange(phoneDigits, {\n\tprevPhoneDigits,\n\tcountry,\n\tdefaultCountry,\n\tcountries,\n\tinternational,\n\tlimitMaxLength,\n\tcountryCallingCodeEditable,\n\tmetadata\n}) {\n\tif (international && countryCallingCodeEditable === false) {\n\t\tconst prefix = getInternationalPhoneNumberPrefix(country, metadata)\n\t\t// The `<input/>` value must start with the country calling code.\n\t\tif (phoneDigits.indexOf(prefix) !== 0) {\n\t\t\treturn {\n\t\t\t\tphoneDigits: prefix,\n\t\t\t\tvalue: undefined,\n\t\t\t\tcountry\n\t\t\t}\n\t\t}\n\t}\n\n\t// If `international` property is `false`, then it means\n\t// \"enforce national-only format during input\",\n\t// so, if that's the case, then remove all `+` characters,\n\t// but only if some country is currently selected.\n\t// (not if \"International\" country is selected).\n\tif (international === false && country && phoneDigits && phoneDigits[0] === '+') {\n\t\tphoneDigits = convertInternationalPhoneDigitsToNational(phoneDigits, country, metadata)\n\t}\n\n\t// Trim the input to not exceed the maximum possible number length.\n\tif (phoneDigits && country && limitMaxLength) {\n\t\tphoneDigits = trimNumber(phoneDigits, country, metadata)\n\t}\n\n\t// If this `onChange()` event was triggered\n\t// as a result of selecting \"International\" country,\n\t// then force-prepend a `+` sign if the phone number\n\t// `<input/>` value isn't in international format.\n\t// Also, force-prepend a `+` sign if international\n\t// phone number input format is set.\n\tif (phoneDigits && phoneDigits[0] !== '+' && (!country || international)) {\n\t\tphoneDigits = '+' + phoneDigits\n\t}\n\n\t// If the previously entered phone number\n\t// has been entered in international format\n\t// and the user decides to erase it,\n\t// then also reset the `country`\n\t// because it was most likely automatically selected\n\t// while the user was typing in the phone number\n\t// in international format.\n\t// This fixes the issue when a user is presented\n\t// with a phone number input with no country selected\n\t// and then types in their local phone number\n\t// then discovers that the input's messed up\n\t// (a `+` has been prepended at the start of their input\n\t//  and a random country has been selected),\n\t// decides to undo it all by erasing everything\n\t// and then types in their local phone number again\n\t// resulting in a seemingly correct phone number\n\t// but in reality that phone number has incorrect country.\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/273\n\tif (!phoneDigits && prevPhoneDigits && prevPhoneDigits[0] === '+') {\n\t\tif (international) {\n\t\t\tcountry = undefined\n\t\t} else {\n\t\t\tcountry = defaultCountry\n\t\t}\n\t}\n\t// Also resets such \"randomly\" selected country\n\t// as soon as the user erases the number\n\t// digit-by-digit up to the leading `+` sign.\n\tif (phoneDigits === '+' && prevPhoneDigits && prevPhoneDigits[0] === '+' && prevPhoneDigits.length > '+'.length) {\n\t\tcountry = undefined\n\t}\n\n\t// Generate the new `value` property.\n\tlet value\n\tif (phoneDigits) {\n\t\tif (phoneDigits[0] === '+') {\n\t\t\tif (phoneDigits === '+') {\n\t\t\t\tvalue = undefined\n\t\t\t} else if (country && getInternationalPhoneNumberPrefix(country, metadata).indexOf(phoneDigits) === 0) {\n\t\t\t\tvalue = undefined\n\t\t\t} else {\n\t\t\t\tvalue = phoneDigits\n\t\t\t}\n\t\t} else {\n\t\t\tvalue = e164(phoneDigits, country, metadata)\n\t\t}\n\t}\n\n\t// Derive the country from the phone number.\n\t// (regardless of whether there's any country currently selected,\n\t//  because there could be several countries corresponding to one country calling code)\n\tif (value) {\n\t\tcountry = getCountryForPartialE164Number(value, {\n\t\t\tcountry,\n\t\t\tcountries,\n\t\t\tmetadata\n\t\t})\n\t\t// If `international` property is `false`, then it means\n\t\t// \"enforce national-only format during input\",\n\t\t// so, if that's the case, then remove all `+` characters,\n\t\t// but only if some country is currently selected.\n\t\t// (not if \"International\" country is selected).\n\t\tif (international === false && country && phoneDigits && phoneDigits[0] === '+') {\n\t\t\tphoneDigits = convertInternationalPhoneDigitsToNational(phoneDigits, country, metadata)\n\t\t\t// Re-calculate `value` because `phoneDigits` has changed.\n\t\t\tvalue = e164(phoneDigits, country, metadata)\n\t\t}\n\t}\n\n\treturn {\n\t\tphoneDigits,\n\t\tcountry,\n\t\tvalue\n\t}\n}\n\nfunction convertInternationalPhoneDigitsToNational(input, country, metadata) {\n\t// Handle the case when a user might have pasted\n\t// a phone number in international format.\n\tif (input.indexOf(getInternationalPhoneNumberPrefix(country, metadata)) === 0) {\n\t\t// Create \"as you type\" formatter.\n\t\tconst formatter = new AsYouType(country, metadata)\n\t\t// Input partial national phone number.\n\t\tformatter.input(input)\n\t\t// Return the parsed partial national phone number.\n\t\tconst phoneNumber = formatter.getNumber()\n\t\tif (phoneNumber) {\n\t\t\t// Transform the number to a national one,\n\t\t\t// and remove all non-digits.\n\t\t\treturn phoneNumber.formatNational().replace(/\\D/g, '')\n\t\t} else {\n\t\t\treturn ''\n\t\t}\n\t} else {\n\t\t// Just remove the `+` sign.\n\t\treturn input.replace(/\\D/g, '')\n\t}\n}\n\n/**\n * Determines the country for a given (possibly incomplete) E.164 phone number.\n * @param  {string} number - A possibly incomplete E.164 phone number.\n * @param  {object} metadata - `libphonenumber-js` metadata.\n * @return {string?}\n */\nexport function getCountryFromPossiblyIncompleteInternationalPhoneNumber(number, metadata) {\n\tconst formatter = new AsYouType(null, metadata)\n\tformatter.input(number)\n\t// // `001` is a special \"non-geograpical entity\" code\n\t// // in Google's `libphonenumber` library.\n\t// if (formatter.country === '001') {\n\t// \treturn\n\t// }\n\treturn formatter.country\n}\n\n/**\n * Compares two strings.\n * A helper for `Array.sort()`.\n * @param {string} a — First string.\n * @param {string} b — Second string.\n * @param {(string[]|string)} [locales] — The `locales` argument of `String.localeCompare`.\n */\nexport function compareStrings(a, b, locales) {\n  // Use `String.localeCompare` if it's available.\n  // https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\n  // Which means everyone except IE <= 10 and Safari <= 10.\n  // `localeCompare()` is available in latest Node.js versions.\n  /* istanbul ignore else */\n  if (String.prototype.localeCompare) {\n    return a.localeCompare(b, locales);\n  }\n  /* istanbul ignore next */\n  return a < b ? -1 : (a > b ? 1 : 0);\n}\n\n/**\n * Strips `+${countryCallingCode}` prefix from an E.164 phone number.\n * @param {string} number - (possibly incomplete) E.164 phone number.\n * @param {string?} country - A possible country for this phone number.\n * @param {object} metadata - `libphonenumber-js` metadata.\n * @return {string}\n */\nexport function stripCountryCallingCode(number, country, metadata) {\n\t// Just an optimization, so that it\n\t// doesn't have to iterate through all country calling codes.\n\tif (country) {\n\t\tconst countryCallingCodePrefix = '+' + getCountryCallingCode(country, metadata)\n\n\t\t// If `country` fits the actual `number`.\n\t\tif (number.length < countryCallingCodePrefix.length) {\n\t\t\tif (countryCallingCodePrefix.indexOf(number) === 0) {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t} else {\n\t\t\tif (number.indexOf(countryCallingCodePrefix) === 0) {\n\t\t\t\treturn number.slice(countryCallingCodePrefix.length)\n\t\t\t}\n\t\t}\n\t}\n\n\t// If `country` doesn't fit the actual `number`.\n\t// Try all available country calling codes.\n\tfor (const country_calling_code of Object.keys(metadata.country_calling_codes)) {\n\t\tif (number.indexOf(country_calling_code) === '+'.length) {\n\t\t\treturn number.slice('+'.length + country_calling_code.length)\n\t\t}\n\t}\n\n\treturn ''\n}\n\n/**\n * Parses a partially entered national phone number digits\n * (or a partially entered E.164 international phone number)\n * and returns the national significant number part.\n * National significant number returned doesn't come with a national prefix.\n * @param {string} number - National number digits. Or possibly incomplete E.164 phone number.\n * @param {string?} country\n * @param {object} metadata - `libphonenumber-js` metadata.\n * @return {string} [result]\n */\nexport function getNationalSignificantNumberDigits(number, country, metadata) {\n\t// Create \"as you type\" formatter.\n\tconst formatter = new AsYouType(country, metadata)\n\t// Input partial national phone number.\n\tformatter.input(number)\n\t// Return the parsed partial national phone number.\n\tconst phoneNumber = formatter.getNumber()\n\treturn phoneNumber && phoneNumber.nationalNumber\n}\n\n/**\n * Checks if a partially entered E.164 phone number could belong to a country.\n * @param  {string} number\n * @param  {string} country\n * @return {boolean}\n */\nexport function couldNumberBelongToCountry(number, country, metadata) {\n\tconst intlPhoneNumberPrefix = getInternationalPhoneNumberPrefix(country, metadata)\n\tlet i = 0\n\twhile (i < number.length && i < intlPhoneNumberPrefix.length) {\n\t\tif (number[i] !== intlPhoneNumberPrefix[i]) {\n\t\t\treturn false\n\t\t}\n\t\ti++\n\t}\n\treturn true\n}\n\n/**\n * Gets initial \"phone digits\" (including `+`, if using international format).\n * @return {string} [phoneDigits] Returns `undefined` if there should be no initial \"phone digits\".\n */\nexport function getInitialPhoneDigits({\n\tvalue,\n\tphoneNumber,\n\tdefaultCountry,\n\tinternational,\n\tuseNationalFormat,\n\tmetadata\n}) {\n\t// If the `value` (E.164 phone number)\n\t// belongs to the currently selected country\n\t// and `useNationalFormat` is `true`\n\t// then convert `value` (E.164 phone number)\n\t// to a local phone number digits.\n\t// E.g. '+78005553535' -> '88005553535'.\n\tif ((international === false || useNationalFormat) && phoneNumber && phoneNumber.country) {\n\t\treturn generateNationalNumberDigits(phoneNumber)\n\t}\n\t// If `international` property is `true`,\n\t// meaning \"enforce international phone number format\",\n\t// then always show country calling code in the input field.\n\tif (!value && international && defaultCountry) {\n\t\treturn getInternationalPhoneNumberPrefix(defaultCountry, metadata)\n\t}\n\treturn value\n}"],"file":"phoneInputHelpers.js"}